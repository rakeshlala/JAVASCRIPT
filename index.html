<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
       body{
        background-color: black;
       }
    #h2{
        color: aliceblue;
        font-size: 1.6rem;
        justify-content: center;
        text-align: center;
        margin-top: 14rem;
    }
    #text{
       position: relative; 
       bottom: 1rem;
        margin-left: 37rem;
        width: 14rem;
    }
    #bt1{
        position: relative;
        bottom: 1rem;
    width: 6rem;
    height: 4vh;
    border-radius: 25%;
    background-color: yellow;
    }
    .todo-list-elem{
        align-items: center;
        justify-content: center;
        color: aliceblue;
    }
    .main-todo-div{
        width: 36rem;
        height: auto;
        align-items: center;
        justify-content: center;
        color: aliceblue;
        margin-left: 40rem;
        font-size: 1.4rem;
        display: grid;
        grid-template-columns: 0.9fr 3.4fr;

     cursor: pointer;
    }
    .btn2{

        border-radius: 27%;
        border-color: yellow;
        width: 5rem;
        height: 5vh;
              gap: 12px;
        color: black;
        background-color: yellow;
    }
    .btn2:hover{
        background-color: black;
        color: aliceblue;
    }
@media screen and (max-width: 600px){
    body{
        padding: 0;
        margin: 0;
    }
    #st{
      width: 100%;
      max-width: 100%;
      box-sizing: border-box;
      overflow-x: hidden;
    }
    * {
        max-width: 100%;
    }
    #text{
     align-items: center;
     justify-content: center;
     margin-left: 8rem;
     margin-top: 1rem;
    }
    .todo-list-elem{
          align-items: center;
     justify-content: center;
     margin-left: -29em;
     margin-top: 1rem;
    }
    .main-todo-div{
        gap: 2rem;
    }
}
@media screen and (max-width: 459px){
 body{
        padding: 0;
        margin: 0;
    }
    #st{
      width: 100%;
      max-width: 100%;
      box-sizing: border-box;
      overflow-x: hidden;
    }
    * {
        max-width: 100%;
    }
    #text{
     align-items: center;
     justify-content: center;
     margin-left: 2rem;
     margin-top: 1rem;
    }
    .todo-list-elem{
         align-items: center;
     justify-content: center;
     margin-left: -36em;
     margin-top: 1rem;
    }
}
</style>
</head>

<body>
    <div id="st">
   <div id="main">
    <h2 id="h2">Todo List</h2>
    <input id="text" type="text">
    <button id="bt1" onclick="open">Add Todo</button>
   </div>
   <section class="todo-list-elem"></section>
   </div>
</body>
<script>
const main = document.querySelector(".todo-list-elem");
const inputVale = document.getElementById("text");
    
    const getTodoList = () => {
   return     JSON.parse(localStorage.getItem("youtubr"));
    }
    const addTodoListLocalStorage = (localTodoList) =>{
        return localStorage.setItem('youtubr',JSON.stringify(localTodoList));
    }
   let localTodoList = getTodoList() || [];

const addTodoDynamicElement = (curElem) => {
     const divElem = document.createElement('div');
    divElem.classList.add("main-todo-div");
    divElem.innerHTML = `<li>${curElem}</li><button class="btn2">Delet</button>`;
    main.append(divElem); 
}
 
const addTodoList = () => {
    

    const todoListValue = inputVale.value.trim();
    inputVale.value = "";
   if(todoListValue !== "" && !localTodoList.includes(todoListValue)){
  localTodoList.push(todoListValue);
  localTodoList = [... new Set(localTodoList)];
  console.log(localTodoList);
  localStorage.setItem("youtubr", JSON.stringify(localTodoList))
   addTodoDynamicElement(todoListValue);
   }
};
const showTodoList = () => {
  console.log(localTodoList);
  localTodoList.forEach((curElem) => {
addTodoDynamicElement(curElem);
  })
  
}
showTodoList();
const removeTodoElem = (e) =>{
    const todoRemove = e.target;
    let todoListContent = todoRemove.previousElementSibling.innerText;
    let parentElem = todoRemove.parentElement;
    console.log(todoListContent);

    localTodoList= localTodoList.filter((curTodo) =>{
        //console.log(curTodo);
        
        return curTodo !== todoListContent.toLowerCase();
    });
    addTodoListLocalStorage(localTodoList);
    parentElem.remove();
    console.log(localTodoList);
    
}
main.addEventListener("click", (e) => {
e.preventDefault();
 //console.log(e.target.classList.contains('btn2'));
    if(e.target.classList.contains('btn2')){
removeTodoElem(e);
    }
});
document.getElementById("bt1").addEventListener('click', ()=>{
    addTodoList();

});

</script>
</html>